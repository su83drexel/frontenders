<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FlopFinder Genres</title>
  <link rel="stylesheet" href="styles/main.css" />
  <style>
  .image-cell img {
    width: 150px;          /* fixed width */
    height: 150px;         /* fixed height */
    object-fit: cover;     /* keeps proportions while cropping edges */
    border-radius: 8px;    /* optional rounding */
  }
  table
  {
  margin: 40px auto;
  border-collapse: separate;
  border-spacing: 100px;
  }
  </style>
</head>
<body>
  <div id="site-header"></div>

  <main class="container">
    <section class="hero">
      <h1>Select Your Preferences</h1>
      <p>Choose genres and submit. We'll use these for recommendations.</p>
    </section>

    <section class="section">
      <form class="card" id="genre-form" aria-labelledby="genre-title">
        <h2 id="genre-title" style="margin-top:0;">Genres</h2>

        <div class="grid">
          <table id = "genreTable">

          </table>
        </div>

        <div class="mt-24">
          <button class="btn btn-primary" type="submit">Apply</button>
        </div>
      </form>
    </section>
  </main>
  <script>
    const images = [
      { src: "images/Adventure.png", alt: "Adventure", color: "#ffcccc" },
      { src: "images/animation.png", alt: "Animation", color: "#cce5ff" },
      { src: "images/Comedy.png", alt: "Comedy", color: "#e6ffe6" },
      { src: "images/Crime.png", alt: "Crime", color: "#fff0b3" },
      { src: "images/detective.png", alt: "Mystery", color: "#f0ccff" },
      { src: "images/Documentary.png", alt: "Documentary", color: "#d9f7ff" },
      { src: "images/drama.png", alt: "Drama", color: "#f0ccff" },
      { src: "images/Family.png", alt: "Family", color: "#f0ccff" },
      { src: "images/Fantasy.png", alt: "Fantasy", color: "#f0ccff" },
      { src: "images/History.png", alt: "History", color: "#f0ccff" },
      { src: "images/music.png", alt: "Music", color: "#f0ccff" },
      { src: "images/romance.png", alt: "Romance", color: "#f0ccff" },
      { src: "images/ScienceFiction.png", alt: "ScienceFiction", color: "#f0ccff" },
      { src: "images/Thriller.png", alt: "Thriller", color: "#f0ccff" },
      { src: "images/TVMovie.png", alt: "TVMovie", color: "#f0ccff" },
      { src: "images/war.png", alt: "War", color: "#f0ccff" }
    ];

    const table = document.getElementById("genreTable");
    const columnsPerRow = 3;
    let row;

    images.forEach((img, i) => {//loop through and create cells for each image
      if (i % columnsPerRow === 0) {
        row = document.createElement("tr");
        table.appendChild(row);
      }

      const cell = document.createElement("td");
      cell.classList.add("image-cell");
      cell.innerHTML = `
        <img src="${img.src}" alt="${img.alt}">
        <br>
        <button class="button">${img.alt}</button><br>
        <input type="color" value="${img.color}">
      `;
      row.appendChild(cell);

    });

    document.addEventListener("DOMContentLoaded", () => {

    const buttons = document.querySelectorAll("button");

    buttons.forEach((button) => {
        button.addEventListener("click", () => {
          let value = button.textContent;
          localStorage.setItem("selectedGenre", value);
          window.open('genres.html', '_blank');
        });
      });
      });

  </script>

  <div id="site-footer"></div>

  <script src="js/layout.js" defer></script>
  <script src="js/app.js" defer></script>
  <!--<script src="/js/genre.js" defer></script>-->
</body>
</html>
